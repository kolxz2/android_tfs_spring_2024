# TFS Android Spring 2024
### Технологии проекта: MVI, Retrofit, Room, Flow, Dagger2
### О приложении
Приложение использует API Zulip. Реализованы экраны: все стримы, на которые подписан пользователь (по нажатию на которые появляются топики нажав на которые открывается кран с перепиской), все стримы канала, на которые пользователь может подписаться и отписаться, список всех пользователей канала по нажатию на любого пользователя открывается экран с детальной информацией о пользователе.

### Реализация
- Для навигации использовал Cicerone 
- Паттерн для слоя представлена MVI
- Для экранов: чат, все стримы, подписанные стримы и профили – реализован long polling. Если в процессе нахождения на экране произойдёт разрыв соединения, то появятся snackbar с запросом на переподключение. После, если соединение с интернетом снова установиться, то соединение для работы с long polling само установиться благодаря NetworkChangeReceiver (ConnectivityManager) из :data
- Для экранов со всеми стримами и подписанными реализован отдельный поиск. Последний поисковый запрос запоминается при переключениях между этими экранами
- Настроена локализация для английского и русского 
- На экране peoples в начале приходят данные из БД и у каждого будет статус оффлайн. Когда данные прийдут из сети список будет отсортирован по онлайн статусу и имени, также как это сделано web версии zulit. 
- Список стримов сортируется по названию
- Переопределены нажатия на кнопку назад по примеру WhatsApp. Логика: 
    * если при нажатии назад мы не на вкладке с каналами, то навигируемся на них
    * если во ViewPager экран со всеми стримами, то возвращаемся на подписанные стримы 
    * если мы на подписанных экранах, то выходим из приложения 


### Описание модулей

На лекции сказали, что задание будет интереснее, если разбить на модули, поэтому сделал разделение на модули:
- :app отвечает за создание синглтонов (Retrofit, Database, навигации) и корневых элементов для экранов (MainActivity внутри которой открывается сразу TabsMenuFragment. TabsMenuFragment является контейнером для переключения экранов через BottomNavigationView. Экраны с чатом и детальной информацией о пользователях открываются поверх TabsMenuFragment внутри контейнера MainActivity).
- :data хранит в себе логику работу в БД и Retrofit: модели данных, интерфейсы для взаимодействия. 
- :core. В :ui_kit хранятся вся переиспользуемая разметка и компоненты ui. В :navigation описаны интерфейсы для того, чтобы изнутри feature можно было осуществить навигацию, но саму реализацию скрыть в реализации :app. В :mvi лежит реализация MVI из семинара по архитектуре плюс дополнительный класс позаимствованный для переключения флоу из Elmslie – [Switche](https://github.com/vivid-money/elmslie/blob/elmslie-3-0/elmslie-core/src/main/java/vivid/money/elmslie/core/switcher/Switcher.kt). :data_di хранит интерфейсы которые реализует Application в :app. Нужен для доставления зависмостей Retrofit и Database в feature модули.
- :feature. в этом модули хранятся реализации всех экранов. 

### Скриншоты приложения
<img src="https://github.com/kolxz2/android_tfs_spring_2024/assets/67540774/9c2ebeda-ea59-4f60-85df-cb60c231e9c4" alt="Описание изображения" width="295" height="640">
<img src="https://github.com/kolxz2/android_tfs_spring_2024/assets/67540774/62add33a-d614-4f5a-945c-c20cfb2d0c67" alt="Описание изображения" width="295" height="640">
<img src="https://github.com/kolxz2/android_tfs_spring_2024/assets/67540774/139b93bd-22af-4145-a10b-e9951407dc32" alt="Описание изображения" width="295" height="640">
<img src="https://github.com/kolxz2/android_tfs_spring_2024/assets/67540774/d84c1e62-1ea3-4353-8ef3-6e62059823f8" alt="Описание изображения" width="295" height="640">
<img src="https://github.com/kolxz2/android_tfs_spring_2024/assets/67540774/5fc0d4d7-43ea-43b8-ad66-ee481961fb12" alt="Описание изображения" width="295" height="640">

